<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Abaqus FEA Scripting with python - if curious: then learn</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="http://ifcuriousthenlearn.com/images/earth.png" rel="icon">

<link rel="canonical" href="http://ifcuriousthenlearn.com/blog/2015/04/02/Abaqus-FEA-Scripting-with-python/">

        <meta name="author" content="Neal Gordon" />
        <meta name="keywords" content="python,FEA,engineering" />
        <meta name="description" content="Using python to learn and automate tasks in Abaqus FEA" />

        <meta property="og:site_name" content="if curious: then learn" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Abaqus FEA Scripting with python"/>
        <meta property="og:url" content="http://ifcuriousthenlearn.com/blog/2015/04/02/Abaqus-FEA-Scripting-with-python/"/>
        <meta property="og:description" content="Using python to learn and automate tasks in Abaqus FEA"/>
        <meta property="article:published_time" content="2015-04-02" />
            <meta property="article:section" content="Engineering" />
            <meta property="article:tag" content="python" />
            <meta property="article:tag" content="FEA" />
            <meta property="article:tag" content="engineering" />
            <meta property="article:author" content="Neal Gordon" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://ifcuriousthenlearn.com/theme/css/bootstrap.journal.min.css" type="text/css"/>
    <link href="http://ifcuriousthenlearn.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://ifcuriousthenlearn.com/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://ifcuriousthenlearn.com/theme/css/style.css" type="text/css"/>

        <link href="http://ifcuriousthenlearn.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="if curious: then learn ATOM Feed"/>



        <link href="http://ifcuriousthenlearn.com/feeds/engineering.atom.xml" type="application/atom+xml" rel="alternate"
              title="if curious: then learn Engineering ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://ifcuriousthenlearn.com/" class="navbar-brand">
if curious: then learn            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://ifcuriousthenlearn.com/pages/about-me.html">
                             About me
                          </a></li>
                        <li >
                            <a href="http://ifcuriousthenlearn.com/category/aviation.html">Aviation</a>
                        </li>
                        <li >
                            <a href="http://ifcuriousthenlearn.com/category/computing.html">Computing</a>
                        </li>
                        <li class="active">
                            <a href="http://ifcuriousthenlearn.com/category/engineering.html">Engineering</a>
                        </li>
                        <li >
                            <a href="http://ifcuriousthenlearn.com/category/tools.html">Tools</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://ifcuriousthenlearn.com/blog/2015/04/02/Abaqus-FEA-Scripting-with-python/"
                       rel="bookmark"
                       title="Permalink to Abaqus FEA Scripting with python">
                        Abaqus FEA Scripting with python
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-04-02T00:00:00-04:00"> 2015-04-02</time>
    </span>


            <span class="label label-default">By</span>
            <a href="http://ifcuriousthenlearn.com/author/neal-gordon.html"><i class="fa fa-user"></i> Neal Gordon</a>



<span class="label label-default">Tags</span>
	<a href="http://ifcuriousthenlearn.com/tag/python.html">python</a>
        /
	<a href="http://ifcuriousthenlearn.com/tag/fea.html">FEA</a>
        /
	<a href="http://ifcuriousthenlearn.com/tag/engineering.html">engineering</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Abaqus_FEA_Scripting">Abaqus_FEA_Scripting<a class="anchor-link" href="#Abaqus_FEA_Scripting">¶</a></h1><p>Abaqus uses python as its native macro/scripting language, which makes it easy to develop powerful tools that utilize the robustness and simplicity of the python programming language.<br />
This file is generated using an ipython notebook, which can be easily installed using Anaconda (see the installation section for more detail)</p>
<p><strong>Content Overview</strong><br />
<a href="#General_Abaqus_Overview">General Abaqus Overview</a><br />
<a href="#Abaqus-CAE_python_console">Abaqus-CAE python console</a><br />
<a href="#Beam_Example">Beam Example</a><br />
<a href="#Beam_Example_Results">Beam Example Results</a><br />
<a href="#Beam_Example_Code">Beam Example Code</a></p>
<hr />
<p>Also, I use <code>!</code> to execute console or terminal commands directly in the notebook here.
So for example, in windows we can run <code>dir</code> on windows or <code>ls</code> on linux to show the directory contents</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>dir
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre> Volume in drive C has no label.
 Volume Serial Number is 18C2-EE86

 Directory of C:\Users\ngordon\VirtualBox VMs\mint-cin\share\nagordon.github.io\content

04/02/2015  02:58 PM    <dir>          .
04/02/2015  02:58 PM    <dir>          ..
04/02/2015  02:27 PM    <dir>          .ipynb_checkpoints
04/02/2015  02:58 PM            36,294 Abaqus_FEA_Scripting_with_python.ipynb
04/02/2015  01:35 PM               241 Abaqus_FEA_Scripting_with_python.ipynb-meta
04/02/2015  02:21 PM    <dir>          code
04/02/2015  02:05 PM             4,369 How I built my blog.md
04/02/2015  02:08 PM    <dir>          images
03/14/2015  08:45 PM             2,522 Its-About-Time.md
04/02/2015  02:08 PM    <dir>          pages
03/14/2015  08:45 PM             6,934 Team Fortress 2 Server Install for Dummies.md
               5 File(s)         50,360 bytes
               6 Dir(s)  34,882,461,696 bytes free
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="General_Abaqus_Overview">General_Abaqus_Overview<a class="anchor-link" href="#General_Abaqus_Overview">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Installation">Installation<a class="anchor-link" href="#Installation">¶</a></h2><h3 id="Operating-System">Operating System<a class="anchor-link" href="#Operating-System">¶</a></h3><p>I am using windows 7 operating system for work with Abaqus, and I use Linux Mint for generating the blog page</p>
<h3 id="Python">Python<a class="anchor-link" href="#Python">¶</a></h3><p>To install a minimal python, I recommend <a href="http://conda.pydata.org/miniconda.html">miniconda</a> as a package maanger. Once miniconda or  is installed, install these packages by running these commands in a windows console and following the prompts. Packages that a needed to replicate my results are included in the article when they are needed.</p>
<div class="highlight"><pre><span></span>conda install numpy  
conda install <span class="nv">matplotlib</span><span class="o">=</span><span class="m">1</span>.4.3
conda install pandas
</pre></div>
<p>For developers, I'd recommend a more complete python installation that includes an IDE (Integrated Development Environment), like spyder.</p>
<ul>
<li><a href="http://continuum.io/downloads">Anaconda</a> for Linux and Windows  </li>
<li><a href="http://winpython.sourceforge.net/">winpython</a> for Windows  </li>
</ul>
<h3 id="Abaqus">Abaqus<a class="anchor-link" href="#Abaqus">¶</a></h3><p>A commercial license is prohibitvley expensing, but for students out there a nearly full functioning student edition is available <a href="http://academy.3ds.com/software/simulia/abaqus-student-edition/">here</a>, but is limited by node count and no user subroutines.</p>
<hr />
<h2 id="Some-of-the-abaqus-file-types">Some of the abaqus file types<a class="anchor-link" href="#Some-of-the-abaqus-file-types">¶</a></h2><h3 id="files-generated-by-created-and-analyzing-a-model">files generated by created and analyzing a model<a class="anchor-link" href="#files-generated-by-created-and-analyzing-a-model">¶</a></h3><ul>
<li><strong>rpy</strong> -  replay file , all modeling operation commands executed during a session, are saved in this file</li>
<li><strong>cae</strong>  - model database, contains models and analysis jobs</li>
<li><strong>jnl</strong> - journal python file, all commands necessary to recreate the most current save model database</li>
<li><strong>rec</strong> - recover file contains commands to replicate the version of the model database in memory<br />
### files created when a job is submitted  </li>
<li><strong>inp</strong> - abaqus config file that is created when a job is submitted. contains all the information necessary to run a analysis</li>
<li><strong>odb</strong> - output database containing results from completed simulation. Use the step module output request manager to choose variables are saved at what rate. viewed in the visualization module </li>
<li><strong>lck</strong> - file that protects the odb file when it is current being written to</li>
<li><strong>res</strong> - used to continue an anaylsis that stopped before it was complete. use the step module to specify which analysis steps should write restart information </li>
<li><strong>dat</strong> - printed output from the anaylsis input file processor, as well as printed output of selected results written during the analysis. </li>
<li><strong>msg</strong>  - contains diagnostic or informative messages about the progress of the solution. Control the output in the step module</li>
<li><strong>fil</strong>  - contains selected results from the analysis in a neutral format. that can we read/written for third-party post processing</li>
<li>*<em>rpt</em> - text file generated from probe data for user specific user requested information</li>
<li><strong>ods</strong> - scratch output database file</li>
<li><strong>mdb</strong> - database of the model  </li>
<li><strong>sim</strong> - binary file</li>
<li><strong>sta</strong> - summary of job info</li>
<li><strong>lck</strong> - a file that indicates that the odb file is open and cannot be edited if opened by another user</li>
</ul>
<h2 id="Outputs">Outputs<a class="anchor-link" href="#Outputs">¶</a></h2><ul>
<li>defaults set in the environment file</li>
<li>typical outputs<ul>
<li>E - strain</li>
<li>PE - plastic strain</li>
<li>U - displacements and rotations</li>
<li>RF - reaction forces</li>
<li>CF - concentrated (applied) forces and moments</li>
<li>CSTRESS - contact stresses</li>
<li>CDISP - contact displacements</li>
<li>see Abaqus Scripting User's Guide 5.2 for more info accessing the database </li>
</ul>
</li>
</ul>
<p>Abaqus Scripting User's Guide - 5.2.2</p>
<h2 id="field-output">field output<a class="anchor-link" href="#field-output">¶</a></h2><ul>
<li>typically requested for the entire model, often only at selected elements</li>
<li>used for creating contour, deformed shape, and symbol plots</li>
<li>Can be used as a source for x-y plots, but history is better</li>
<li>intended for infrequent requests for large portions of model  data, such as 3d mesh contour plots</li>
<li>can specify output frequency or time intervals</li>
</ul>
<pre><code>import odbAccess
session.odbs[name].steps[name].frames[i].fieldOutputs[name]
# or 
sdat=session.odbs['customBeamExample/customBeamExample.odb'].steps['beamLoad'].frames[-1].fieldOutputs['S']
integrationPointData = sdat.getSubset(position=INTEGRATION_POINT)
invariantsData = sdat.validInvariants</code></pre>
<p>Abaqus Scripting User's Guide - 9.3.2<br />
Field output is intended for infrequent requests for a large portion of the model and can be used to generate contour plots, animations, symbol plots, and displaced shape plots in the Visualization module of Abaqus/CAE. You can also use field output to generate an X–Y data plot. Only complete sets of basic variables (for example, all the stress or strain components) can be requested as field output. Field output is composed of a “cloud of data values” (e.g., stress tensors at each integration point for all elements). Each data value has a location, type, and value. You use the regions defined in the model data, such as an element set, to access subsets of the field output data. Figure 9–3 shows the field output data object model within an output database.</p>
<h2 id="history-output">history output<a class="anchor-link" href="#history-output">¶</a></h2><ul>
<li>requested for a small subset of the model</li>
<li>typically requested at every increment during the anaylsis</li>
<li>used to generate xy plots by step and time</li>
<li>example -  the principal stress at a single node at the root of the beam</li>
</ul>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">odbAccess</span>
<span class="n">session</span><span class="o">.</span><span class="n">odbs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">steps</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">historyRegions</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</pre></div>
<p>Abaqus Scripting User's Guide - 9.3.2<br />
History output is output defined for a single point or for values calculated for a portion of the model as a whole, such as energy. History output is intended for relatively frequent output requests for small portions of the model and can be displayed in the form of X–Y data plots in the Visualization module of Abaqus/CAE. Individual variables (such as a particular stress component) can be requested.
Depending on the type of output expected, a HistoryRegion object can be defined for one of the following:</p>
<ul>
<li>a node</li>
<li>an integration point</li>
<li>a region</li>
<li>the whole model</li>
</ul>
<p>The output from all history requests that relate to a particular point or region is then collected in one HistoryRegion object. Figure 9–4 shows the history output data object model within an output database. In contrast to field output, which is associated with a frame, history output is associated with a step.</p>
<hr />
<h2 id="Basic-Checklist-for-generating-an-Abaqus-simulation">Basic Checklist for generating an Abaqus simulation<a class="anchor-link" href="#Basic-Checklist-for-generating-an-Abaqus-simulation">¶</a></h2><ol>
<li>Parts</li>
<li>Materials</li>
<li>Sections</li>
<li>Section Assingments</li>
<li>Assembly(instances)</li>
<li>Steps (after Initial)</li>
<li>BCs (Boundary Conditions)</li>
<li>Loads</li>
<li>Mesh</li>
<li>Jobs</li>
</ol>
<h2 id="Using-abaqus-from-the-command-line">Using abaqus from the command line<a class="anchor-link" href="#Using-abaqus-from-the-command-line">¶</a></h2><div class="highlight"><pre><span></span>abaqus  
abq6132se  
abaqus doc  
abaqus pde      <span class="c1"># launches only PDE (python development environment) for abaqus  </span>
abaqus cae -pde <span class="c1"># launches PDE and abaqus cae  </span>
abaqus cae      <span class="c1"># launches abaqus cae  </span>
abaqus viewer   <span class="c1"># launhces abaqus viewer</span>
</pre></div>
<p>Execute an existing script or open a file</p>
<div class="highlight"><pre><span></span>abaqus python odb_to_txt.py test1.odb       <span class="c1"># runs a abaqus python script with input 'test1.odb'</span>
abaqus cae <span class="nv">script</span><span class="o">=</span>myscript.py               <span class="c1"># launches cae and runs script</span>
abaqus cae <span class="nv">database</span><span class="o">=</span>filename.cae            <span class="c1"># opens an odb file in cae</span>
abaqus viewer <span class="nv">script</span><span class="o">=</span>myscript.py            <span class="c1"># launches viewer and executes script</span>
abaqus viewer <span class="nv">database</span><span class="o">=</span>cantilever           <span class="c1"># opens a odb file in the viewer</span>
abaqus cae <span class="nv">noGUI</span><span class="o">=</span>myscript.py                <span class="c1"># launches cae and runs script</span>
abaqus viewer <span class="nv">noGUI</span><span class="o">=</span>myscript.py             <span class="c1"># launches viewer and executes script</span>
abaqus <span class="nv">job</span><span class="o">=</span>my_sample_job interactive        <span class="c1"># executes *.inp file</span>
abaqus <span class="nv">job</span><span class="o">=</span>my_sample_job <span class="nv">cpus</span><span class="o">=</span><span class="m">8</span> interactive <span class="c1"># executes *.inp file and utilizes 8 cpu cores</span>
</pre></div>
<p>Executing an abaqus python script passing in variables</p>
<div class="highlight"><pre><span></span>abaqus cae <span class="nv">noGUI</span><span class="o">=</span>myscript.py -- variable1 variable2
</pre></div>
<p>Fetch demos</p>
<div class="highlight"><pre><span></span>abaqus fetch <span class="nv">job</span><span class="o">=</span>beamExample   <span class="c1"># fetches the beamExample.py file</span>
abaqus fetch <span class="nv">job</span><span class="o">=</span>gsi_frame_caemodel.py     
abaqus cae <span class="nv">script</span><span class="o">=</span>gsi_frame_caemodel.py
</pre></div>
<h2 id="Common-Abaqus/CAE-User-interface-activities">Common Abaqus/CAE User interface activities<a class="anchor-link" href="#Common-Abaqus/CAE-User-interface-activities">¶</a></h2><h3 id="Accessing-the-help-documentation">Accessing the help documentation<a class="anchor-link" href="#Accessing-the-help-documentation">¶</a></h3><ul>
<li>Help -> Search and Browse Guides</li>
<li>or type 'abaqus doc' in console</li>
</ul>
<h3 id="execute-a-abaqus/python-script">execute a abaqus/python script<a class="anchor-link" href="#execute-a-abaqus/python-script">¶</a></h3><ul>
<li>File -> Run Script  </li>
</ul>
<h3 id="record-a-abaqus/python-macro">record a abaqus/python macro<a class="anchor-link" href="#record-a-abaqus/python-macro">¶</a></h3><ul>
<li>File -> Macro Manager</li>
<li>files stored in users home directory in abaqusMacros.py</li>
</ul>
<h3 id="edit-and-execute-a-abaqus-python-script-in-using-the-provided-python-development-environment-(PDE)">edit and execute a abaqus python script in using the provided python development environment (PDE)<a class="anchor-link" href="#edit-and-execute-a-abaqus-python-script-in-using-the-provided-python-development-environment-(PDE)">¶</a></h3><ul>
<li>File -> Abaqus PDE...</li>
</ul>
<h3 id="plugins">plugins<a class="anchor-link" href="#plugins">¶</a></h3><p>abaqus_plugins\reportGenerator\htmlReportGeneratorForm.pyc</p>
<h3 id="Change-font-of-legend">Change font of legend<a class="anchor-link" href="#Change-font-of-legend">¶</a></h3><p>Click on "Viewport" in the top Menu Bar
Select "Viewport Annotation Options"
Click on the "Triad" tab
Click on the "Set Font..." button to adjust the font
You can even change all 3 at once by checking on the "Legend",  "Title Block", or "State Block" check boxes under the "Apply To" heading</p>
<hr />
<h1 id="Abaqus/Python-Scripting">Abaqus/Python Scripting<a class="anchor-link" href="#Abaqus/Python-Scripting">¶</a></h1><h2 id="Abaqus-specific-Python-modules-imports">Abaqus specific Python modules imports<a class="anchor-link" href="#Abaqus-specific-Python-modules-imports">¶</a></h2><ul>
<li>Module - Abaqus/CAE functionality  </li>
<li>assembly - The Assembly module  </li>
<li>datum - The Datum toolset  </li>
<li>interaction - The Interaction module  </li>
<li>job - The Job module  </li>
<li>load - The Load module  </li>
<li>material - Materials in the Property module  </li>
<li>mesh - The Mesh module  </li>
<li>part - The Part module  </li>
<li>partition - The Partition toolset  </li>
<li>section - Sections in the Property module  </li>
<li>sketch - The Sketch module  </li>
<li>step - The Step module  </li>
<li>visualization - The Visualization module  </li>
<li>xyPlot - The X–Y toolset  </li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Examples">Examples<a class="anchor-link" href="#Examples">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Abaqus-CAE_python_console">Abaqus-CAE_python_console<a class="anchor-link" href="#Abaqus-CAE_python_console">¶</a></h2><p>We can run these commands from the abaqus/CAE python console at the bottom of the screen</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">"Hello World!"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/notebooks/Abaqus_FEA_Scripting_with_python/abaqus_python_console1.png" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This python snippet will show a user dialog box asking for a number and it will calculate the square root of it</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abaqus</span> <span class="kn">import</span> <span class="n">getInput</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="n">number</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">getInput</span><span class="p">(</span><span class="s1">'Enter a number:'</span><span class="p">))</span>
<span class="k">print</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/notebooks/Abaqus_FEA_Scripting_with_python/abaqus_python_console2.png" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>VOILA!</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see that the version of python that abaqus uses is older, but has most of the modules we need</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Abaqus-python">Abaqus python<a class="anchor-link" href="#Abaqus-python">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>python -c <span class="s2">"import sys; print(sys.version)"</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>2.7.8 |Anaconda 2.1.0 (64-bit)| (default, Jul  2 2014, 15:12:11) [MSC v.1500 64 bit (AMD64)]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="My-system-python">My system python<a class="anchor-link" href="#My-system-python">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>abaqus python -c <span class="s2">"import sys; print(sys.version)"</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>2.6.2 for Abaqus 6.13-2 (r262:71600, Jul 27 2013, 13:44:36) [MSC v.1600 64 bit (AMD64)]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Beam_Example">Beam_Example<a class="anchor-link" href="#Beam_Example">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>print the current working directory to ensure that all the output will be in one file</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pwd</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[8]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>u'C:\\Users\\ngordon\\VirtualBox VMs\\mint-cin\\share\\nagordon.github.io\\content'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Use 'fetch' to retrieve an abaqus example python script. The code can be found here</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>abaqus fetch <span class="nv">job</span><span class="o">=</span>beamExample
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Abaqus FETCH job beamExample
  fetching: beamExample.py
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To execute the beamExample script we just fetched, run</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>abaqus cae <span class="nv">noGUI</span><span class="o">=</span>beamExample.py
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Abaqus JOB beam_tutorial
Abaqus Student Edition 6.13-2
Begin Analysis Input File Processor
4/2/2015 2:09:48 PM
Run pre.exe
4/2/2015 2:09:49 PM
End Analysis Input File Processor
Begin Abaqus/Standard Analysis
4/2/2015 2:09:49 PM
Run standard.exe
4/2/2015 2:09:50 PM
End Abaqus/Standard Analysis
Abaqus JOB beam_tutorial COMPLETED
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Excellent, now we have some output. Let have a look at what we have</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Beam_Example_Results">Beam_Example_Results<a class="anchor-link" href="#Beam_Example_Results">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>abaqus cae <span class="nv">noGUI</span><span class="o">=</span>abaqus_read_odb.py
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now lets grab some images from the odb file and see how the simulation turned out</p>
<p>We can load the images using markdown, such as</p>
<pre><code><img src="/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_Iso.png">  

which is the method I prefer because if I want to use this notebook, I can copy the entire notebook folder with all the images and not have to worry about obscure image locations that pelican requirwes otherwise.</code></pre>
<p>or for the blog post using pelican
abaqus_python_console2</p>
<pre><code>![beam_tutorial_Iso]({filename}/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_Iso.png)</code></pre>
<hr />
<p>Here is an image of the undeformed plot</p>
<p><img src="/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_Iso.png" /></p>
<p>And here is an image for $U_{1}$ for the last frame (indicated by -1, which in python selects the last list item)</p>
<p><img src="/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_step-0_U_U1_Iso.png" /></p>
<p>And here is an image for $\sigma_{11}$ for the last frame</p>
<p><img src="/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_step-0_S_S11_Iso.png" /></p>
<p>We can also plot directly in Abaqus. This is a plot of the strain energy of the entire model.</p>
<p><img src="/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_Xplot_step-beamLoad_x-ALLSE.png" /></p>
<p>We can also easily create aniamtions directly from abaqus. Using a python module,  we convert the avi to an animated gif</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">moviepy.editor</span> <span class="k">import</span> <span class="n">VideoFileClip</span>
<span class="kn">import</span> <span class="nn">glob</span><span class="o">,</span> <span class="nn">os</span>
<span class="n">avinames</span><span class="o">=</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">'*.avi'</span><span class="p">)</span>
<span class="k">for</span> <span class="n">aviname</span> <span class="ow">in</span> <span class="n">avinames</span><span class="p">:</span>
    <span class="n">VideoFileClip</span><span class="p">(</span><span class="n">aviname</span><span class="p">)</span><span class="o">.</span><span class="n">write_gif</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">aviname</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s1">'.gif'</span><span class="p">)</span>
    <span class="c1"># os.remove(aviname)   ### if you want to remove the avi file</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The gif file format is really handy. We can simple load the gif file just like we loaded png to show the animations</p>
<hr />
<p>$U{1}$ over all frames</p>
<p><img src="/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_step-0_U_U1_Iso.gif" /></p>
<p>$\sigma_{11}$ over all frames<br />
<img src="/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_step-0_S_S11_Iso.gif" /></p>
<p>Plot of the strain energy</p>
<p><img src="/notebooks/Abaqus_FEA_Scripting_with_python/beam_tutorial_Xplot_step-beamLoad_x-ALLSE.gif" /></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is handy, but the real problem at hand is accessiblity. Abaqus is good software, but expense. Some short-term goals I have is to look into some open-source pacakges that I can run some more complex models in. <a href="http://download.gna.org/getfem/html/homepage/index.html#what-is-getfem">GetFEM++</a> looks fun and I will be trying it out soon, so stay tuned!</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Beam_Example_Code">Beam_Example_Code<a class="anchor-link" href="#Beam_Example_Code">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All the code can be downloaded here<br />
<a href="http://ifcuriousthenlearn.com/code/abaqus_read_odb.py">abaqus_read_odb</a><br />
<a href="http://ifcuriousthenlearn.com/code/beamExample.py">beamExample</a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To view the file we can use an ipython magic function prefixed with %</p>
<div class="highlight"><pre><span></span><span class="o">%</span><span class="n">load</span> <span class="n">code</span><span class="o">/</span><span class="n">beamExample</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># %load code.beamExample.py</span>
<span class="sd">"""</span>
<span class="sd">beamExample.py</span>

<span class="sd">Reproduce the cantilever beam example from the</span>
<span class="sd">Appendix of the Getting Started with</span>
<span class="sd">Abaqus: Interactive Edition Manual.</span>
<span class="sd">"""</span>

<span class="kn">from</span> <span class="nn">abaqus</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">abaqusConstants</span> <span class="k">import</span> <span class="o">*</span>
<span class="n">backwardCompatibility</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">includeDeprecated</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                <span class="n">reportDeprecated</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Create a model.</span>

<span class="n">myModel</span> <span class="o">=</span> <span class="n">mdb</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Beam'</span><span class="p">)</span>

<span class="c1"># Create a new viewport in which to display the model</span>
<span class="c1"># and the results of the analysis.</span>

<span class="n">myViewport</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">Viewport</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Cantilever Beam Example'</span><span class="p">,</span>
    <span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span>
    
<span class="c1">#-----------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">part</span>

<span class="c1"># Create a sketch for the base feature.</span>

<span class="n">mySketch</span> <span class="o">=</span> <span class="n">myModel</span><span class="o">.</span><span class="n">ConstrainedSketch</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'beamProfile'</span><span class="p">,</span>
    <span class="n">sheetSize</span><span class="o">=</span><span class="mf">250.</span><span class="p">)</span>

<span class="c1"># Create the rectangle.</span>

<span class="n">mySketch</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">point1</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">point2</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">))</span>

<span class="c1"># Create a three-dimensional, deformable part.</span>

<span class="n">myBeam</span> <span class="o">=</span> <span class="n">myModel</span><span class="o">.</span><span class="n">Part</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Beam'</span><span class="p">,</span> <span class="n">dimensionality</span><span class="o">=</span><span class="n">THREE_D</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="n">DEFORMABLE_BODY</span><span class="p">)</span>

<span class="c1"># Create the part's base feature by extruding the sketch </span>
<span class="c1"># through a distance of 25.0.</span>

<span class="n">myBeam</span><span class="o">.</span><span class="n">BaseSolidExtrude</span><span class="p">(</span><span class="n">sketch</span><span class="o">=</span><span class="n">mySketch</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mf">25.0</span><span class="p">)</span>

<span class="c1">#-----------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">material</span>

<span class="c1"># Create a material.</span>

<span class="n">mySteel</span> <span class="o">=</span> <span class="n">myModel</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Steel'</span><span class="p">)</span>

<span class="c1"># Create the elastic properties: youngsModulus is 209.E3</span>
<span class="c1"># and poissonsRatio is 0.3</span>

<span class="n">elasticProperties</span> <span class="o">=</span> <span class="p">(</span><span class="mf">209.E3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span>
<span class="n">mySteel</span><span class="o">.</span><span class="n">Elastic</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="p">(</span><span class="n">elasticProperties</span><span class="p">,</span> <span class="p">)</span> <span class="p">)</span>

<span class="c1">#-------------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">section</span>

<span class="c1"># Create the solid section.</span>

<span class="n">mySection</span> <span class="o">=</span> <span class="n">myModel</span><span class="o">.</span><span class="n">HomogeneousSolidSection</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'beamSection'</span><span class="p">,</span>
    <span class="n">material</span><span class="o">=</span><span class="s1">'Steel'</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>

<span class="c1"># Assign the section to the region. The region refers </span>
<span class="c1"># to the single cell in this model.</span>

<span class="n">region</span> <span class="o">=</span> <span class="p">(</span><span class="n">myBeam</span><span class="o">.</span><span class="n">cells</span><span class="p">,)</span>
<span class="n">myBeam</span><span class="o">.</span><span class="n">SectionAssignment</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
    <span class="n">sectionName</span><span class="o">=</span><span class="s1">'beamSection'</span><span class="p">)</span>

<span class="c1">#-------------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">assembly</span>

<span class="c1"># Create a part instance.</span>

<span class="n">myAssembly</span> <span class="o">=</span> <span class="n">myModel</span><span class="o">.</span><span class="n">rootAssembly</span>
<span class="n">myInstance</span> <span class="o">=</span> <span class="n">myAssembly</span><span class="o">.</span><span class="n">Instance</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'beamInstance'</span><span class="p">,</span>
    <span class="n">part</span><span class="o">=</span><span class="n">myBeam</span><span class="p">,</span> <span class="n">dependent</span><span class="o">=</span><span class="n">OFF</span><span class="p">)</span>

<span class="c1">#-------------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">step</span>

<span class="c1"># Create a step. The time period of the static step is 1.0, </span>
<span class="c1"># and the initial incrementation is 0.1; the step is created</span>
<span class="c1"># after the initial step. </span>

<span class="n">myModel</span><span class="o">.</span><span class="n">StaticStep</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'beamLoad'</span><span class="p">,</span> <span class="n">previous</span><span class="o">=</span><span class="s1">'Initial'</span><span class="p">,</span>
    <span class="n">timePeriod</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">initialInc</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">'Load the top of the beam.'</span><span class="p">)</span>

<span class="c1">#-------------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">load</span>

<span class="c1"># Find the end face using coordinates.</span>

<span class="n">endFaceCenter</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">12.5</span><span class="p">)</span>
<span class="n">endFace</span> <span class="o">=</span> <span class="n">myInstance</span><span class="o">.</span><span class="n">faces</span><span class="o">.</span><span class="n">findAt</span><span class="p">((</span><span class="n">endFaceCenter</span><span class="p">,)</span> <span class="p">)</span>

<span class="c1"># Create a boundary condition that encastres one end</span>
<span class="c1"># of the beam.</span>

<span class="n">endRegion</span> <span class="o">=</span> <span class="p">(</span><span class="n">endFace</span><span class="p">,)</span>
<span class="n">myModel</span><span class="o">.</span><span class="n">EncastreBC</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Fixed'</span><span class="p">,</span><span class="n">createStepName</span><span class="o">=</span><span class="s1">'beamLoad'</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="n">endRegion</span><span class="p">)</span>

<span class="c1"># Find the top face using coordinates.</span>

<span class="n">topFaceCenter</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mf">12.5</span><span class="p">)</span>
<span class="n">topFace</span> <span class="o">=</span> <span class="n">myInstance</span><span class="o">.</span><span class="n">faces</span><span class="o">.</span><span class="n">findAt</span><span class="p">((</span><span class="n">topFaceCenter</span><span class="p">,)</span> <span class="p">)</span>

<span class="c1"># Create a pressure load on the top face of the beam.</span>

<span class="n">topSurface</span> <span class="o">=</span> <span class="p">((</span><span class="n">topFace</span><span class="p">,</span> <span class="n">SIDE1</span><span class="p">),</span> <span class="p">)</span>
<span class="n">myModel</span><span class="o">.</span><span class="n">Pressure</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Pressure'</span><span class="p">,</span> <span class="n">createStepName</span><span class="o">=</span><span class="s1">'beamLoad'</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="n">topSurface</span><span class="p">,</span> <span class="n">magnitude</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="c1">#-------------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">mesh</span>

<span class="c1"># Assign an element type to the part instance.</span>

<span class="n">region</span> <span class="o">=</span> <span class="p">(</span><span class="n">myInstance</span><span class="o">.</span><span class="n">cells</span><span class="p">,)</span>
<span class="n">elemType</span> <span class="o">=</span> <span class="n">mesh</span><span class="o">.</span><span class="n">ElemType</span><span class="p">(</span><span class="n">elemCode</span><span class="o">=</span><span class="n">C3D8I</span><span class="p">,</span> <span class="n">elemLibrary</span><span class="o">=</span><span class="n">STANDARD</span><span class="p">)</span>
<span class="n">myAssembly</span><span class="o">.</span><span class="n">setElementType</span><span class="p">(</span><span class="n">regions</span><span class="o">=</span><span class="n">region</span><span class="p">,</span> <span class="n">elemTypes</span><span class="o">=</span><span class="p">(</span><span class="n">elemType</span><span class="p">,))</span>

<span class="c1"># Seed the part instance.</span>

<span class="n">myAssembly</span><span class="o">.</span><span class="n">seedPartInstance</span><span class="p">(</span><span class="n">regions</span><span class="o">=</span><span class="p">(</span><span class="n">myInstance</span><span class="p">,),</span> <span class="n">size</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>

<span class="c1"># Mesh the part instance.</span>

<span class="n">myAssembly</span><span class="o">.</span><span class="n">generateMesh</span><span class="p">(</span><span class="n">regions</span><span class="o">=</span><span class="p">(</span><span class="n">myInstance</span><span class="p">,))</span>

<span class="c1"># Display the meshed beam.</span>

<span class="n">myViewport</span><span class="o">.</span><span class="n">assemblyDisplay</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">mesh</span><span class="o">=</span><span class="n">ON</span><span class="p">)</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">assemblyDisplay</span><span class="o">.</span><span class="n">meshOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">meshTechnique</span><span class="o">=</span><span class="n">ON</span><span class="p">)</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">displayedObject</span><span class="o">=</span><span class="n">myAssembly</span><span class="p">)</span>

<span class="c1">#-------------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">job</span>

<span class="c1"># Create an analysis job for the model and submit it.</span>

<span class="n">jobName</span> <span class="o">=</span> <span class="s1">'beam_tutorial'</span>
<span class="n">myJob</span> <span class="o">=</span> <span class="n">mdb</span><span class="o">.</span><span class="n">Job</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">jobName</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="s1">'Beam'</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s1">'Cantilever beam tutorial'</span><span class="p">)</span>

<span class="c1"># Wait for the job to complete.</span>

<span class="n">myJob</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
<span class="n">myJob</span><span class="o">.</span><span class="n">waitForCompletion</span><span class="p">()</span>

<span class="c1">#-------------------------------------------------------</span>

<span class="kn">import</span> <span class="nn">visualization</span>

<span class="c1"># Open the output database and display a</span>
<span class="c1"># default contour plot.</span>

<span class="n">myOdb</span> <span class="o">=</span> <span class="n">visualization</span><span class="o">.</span><span class="n">openOdb</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">jobName</span> <span class="o">+</span> <span class="s1">'.odb'</span><span class="p">)</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">displayedObject</span><span class="o">=</span><span class="n">myOdb</span><span class="p">)</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">plotState</span><span class="o">=</span><span class="n">CONTOURS_ON_DEF</span><span class="p">)</span>

<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">commonOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">renderStyle</span><span class="o">=</span><span class="n">FILLED</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="o">%</span><span class="n">load</span> <span class="n">abaqus_read_odb</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># %load code/abaqus_read_odb.py</span>
<span class="sd">"""</span>
<span class="sd">Neal Gordon</span>
<span class="sd">Abaqus Scripting</span>
<span class="sd">http://nagordon.github.io/</span>
<span class="sd">2015-04-2</span>

<span class="sd">"""</span>

<span class="c1"># Import abaqus modules</span>
<span class="kn">from</span> <span class="nn">abaqus</span> <span class="k">import</span> <span class="n">session</span>
<span class="kn">import</span> <span class="nn">visualization</span>
<span class="kn">import</span> <span class="nn">xyPlot</span>
<span class="kn">from</span> <span class="nn">abaqusConstants</span> <span class="k">import</span> <span class="n">PNG</span><span class="p">,</span> <span class="n">AVI</span><span class="p">,</span> <span class="n">CONTOURS_ON_DEF</span><span class="p">,</span> \
                            <span class="n">INTEGRATION_POINT</span><span class="p">,</span> <span class="n">COMPONENT</span><span class="p">,</span> <span class="n">OFF</span><span class="p">,</span> <span class="n">ON</span><span class="p">,</span> \
                            <span class="n">FEATURE</span><span class="p">,</span> <span class="n">DISCRETE</span><span class="p">,</span> <span class="n">CONTINUOUS</span><span class="p">,</span> <span class="n">ALL_FRAMES</span><span class="p">,</span> \
                            <span class="n">TIME_HISTORY</span><span class="p">,</span> <span class="n">UNLIMITED</span><span class="p">,</span> <span class="n">UNDEFORMED</span><span class="p">,</span> \
                            <span class="n">SCALE_FACTOR</span><span class="p">,</span> <span class="n">NODAL</span><span class="p">,</span> <span class="n">LARGE</span>

<span class="c1"># load odb file</span>
<span class="n">myViewport</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">Viewport</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'myViewport'</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">myOdb</span> <span class="o">=</span> <span class="n">visualization</span><span class="o">.</span><span class="n">openOdb</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">'beam_tutorial.odb'</span><span class="p">)</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">displayedObject</span><span class="o">=</span><span class="n">myOdb</span><span class="p">)</span>

<span class="c1"># set viewport settings</span>
<span class="n">v</span> <span class="o">=</span> <span class="s1">'Iso'</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">views</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">maximize</span><span class="p">()</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fitView</span><span class="p">()</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">basicOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">coordSystemDisplay</span><span class="o">=</span><span class="n">OFF</span><span class="p">,</span> <span class="n">translucencySort</span><span class="o">=</span><span class="n">ON</span><span class="p">)</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">commonOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">visibleEdges</span><span class="o">=</span><span class="n">FEATURE</span><span class="p">)</span>  <span class="c1"># NONE</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">contourOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">contourStyle</span><span class="o">=</span><span class="n">CONTINUOUS</span><span class="p">)</span> <span class="c1"># DISCRETE CONTINUOUS</span>
<span class="c1">#myViewport.odbDisplay.contourOptions.setValues(showMinLocation=ON,showMaxLocation=ON)</span>
<span class="c1">#myViewport.odbDisplay.contourOptions.setValues(numIntervals=6)</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">viewportAnnotationOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">triad</span><span class="o">=</span><span class="n">OFF</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">OFF</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">ON</span><span class="p">,</span>  <span class="n">compass</span><span class="o">=</span><span class="n">OFF</span><span class="p">,</span>
                                              <span class="n">legend</span><span class="o">=</span><span class="n">ON</span><span class="p">,</span> <span class="n">legendPosition</span><span class="o">=</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">95</span><span class="p">),</span> <span class="n">legendBox</span><span class="o">=</span><span class="n">OFF</span><span class="p">,</span>
                                              <span class="n">legendFont</span><span class="o">=</span><span class="s1">'-*-verdana-medium-r-normal-*-*-120-*-*-p-*-*-*'</span><span class="p">,</span>
                                              <span class="n">statePosition</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
                                              <span class="n">titleFont</span><span class="o">=</span><span class="s1">'-*-verdana-medium-r-normal-*-*-120-*-*-p-*-*-*'</span><span class="p">,</span>
                                              <span class="n">stateFont</span><span class="o">=</span><span class="s1">'-*-verdana-medium-r-normal-*-*-120-*-*-p-*-*-*'</span><span class="p">)</span>


<span class="c1"># saving undeformed image</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">plotState</span><span class="o">=</span><span class="p">(</span><span class="n">UNDEFORMED</span><span class="p">,</span> <span class="p">))</span>
<span class="n">path_filename</span> <span class="o">=</span> <span class="s1">'</span><span class="si">%s</span><span class="s1">_</span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">myOdb</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'.odb'</span><span class="p">,</span><span class="s1">''</span><span class="p">),</span><span class="n">v</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">session</span><span class="o">.</span><span class="n">printToFile</span><span class="p">(</span><span class="n">path_filename</span><span class="p">,</span> <span class="n">PNG</span><span class="p">,</span> <span class="p">(</span><span class="n">myViewport</span><span class="p">,))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'saving </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">path_filename</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="c1"># save stress plots</span>
<span class="n">v</span> <span class="o">=</span> <span class="s1">'Iso'</span> <span class="p">;</span> <span class="n">o</span> <span class="o">=</span> <span class="s1">'S'</span> <span class="p">;</span> <span class="n">c</span> <span class="o">=</span> <span class="s1">'S11'</span> <span class="p">;</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">f</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">plotState</span><span class="o">=</span><span class="p">(</span><span class="n">CONTOURS_ON_DEF</span><span class="p">,</span> <span class="p">))</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">setFrame</span><span class="p">(</span><span class="n">step</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>

<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">setPrimaryVariable</span><span class="p">(</span><span class="n">variableLabel</span><span class="o">=</span><span class="n">o</span><span class="p">,</span><span class="n">outputPosition</span><span class="o">=</span><span class="n">INTEGRATION_POINT</span><span class="p">,</span><span class="n">refinement</span><span class="o">=</span><span class="p">(</span><span class="n">COMPONENT</span><span class="p">,</span> <span class="n">c</span><span class="p">),</span> <span class="p">)</span>
<span class="n">path_filename</span> <span class="o">=</span> <span class="s1">'</span><span class="si">%s</span><span class="s1">_step-</span><span class="si">%s</span><span class="s1">_</span><span class="si">%s</span><span class="s1">_</span><span class="si">%s</span><span class="s1">_</span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">myOdb</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'.odb'</span><span class="p">,</span><span class="s1">''</span><span class="p">),</span><span class="n">s</span><span class="p">,</span><span class="n">o</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">myViewport</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fitView</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">printToFile</span><span class="p">(</span><span class="n">path_filename</span><span class="o">+</span><span class="s1">'.png'</span><span class="p">,</span> <span class="n">PNG</span><span class="p">,</span> <span class="p">(</span><span class="n">myViewport</span><span class="p">,))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'saving </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">path_filename</span><span class="p">)</span>
    
    <span class="n">myViewport</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fitView</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">animationType</span><span class="o">=</span><span class="n">TIME_HISTORY</span><span class="p">,</span> <span class="n">viewports</span><span class="o">=</span><span class="p">(</span><span class="n">myViewport</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="p">))</span>    <span class="c1"># SCALE_FACTOR   TIME_HISTORY                              </span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">UNLIMITED</span><span class="p">)</span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">animationOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">frameRate</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>         
    <span class="n">session</span><span class="o">.</span><span class="n">writeImageAnimation</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="n">path_filename</span><span class="o">+</span><span class="s1">'.avi'</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">AVI</span><span class="p">,</span> <span class="n">canvasObjects</span><span class="o">=</span><span class="p">(</span><span class="n">myViewport</span><span class="p">,))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'saving </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">path_filename</span><span class="o">+</span><span class="s1">'.avi'</span><span class="p">)</span>    
<span class="k">except</span><span class="p">:</span>
    <span class="k">pass</span>
       
<span class="c1"># save displacement plots</span>
<span class="n">v</span> <span class="o">=</span> <span class="s1">'Iso'</span> <span class="p">;</span> <span class="n">o</span> <span class="o">=</span> <span class="s1">'U'</span> <span class="p">;</span> <span class="n">c</span> <span class="o">=</span> <span class="s1">'U1'</span> <span class="p">;</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">f</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">odbDisplay</span><span class="o">.</span><span class="n">setPrimaryVariable</span><span class="p">(</span><span class="n">variableLabel</span><span class="o">=</span><span class="n">o</span><span class="p">,</span><span class="n">outputPosition</span><span class="o">=</span><span class="n">NODAL</span><span class="p">,</span><span class="n">refinement</span><span class="o">=</span><span class="p">(</span><span class="n">COMPONENT</span><span class="p">,</span> <span class="n">c</span><span class="p">),</span> <span class="p">)</span>

<span class="n">path_filename</span> <span class="o">=</span> <span class="s1">'</span><span class="si">%s</span><span class="s1">_step-</span><span class="si">%s</span><span class="s1">_</span><span class="si">%s</span><span class="s1">_</span><span class="si">%s</span><span class="s1">_</span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">myOdb</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'.odb'</span><span class="p">,</span><span class="s1">''</span><span class="p">),</span><span class="n">s</span><span class="p">,</span><span class="n">o</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">myViewport</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fitView</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">printToFile</span><span class="p">(</span><span class="n">path_filename</span><span class="o">+</span><span class="s1">'.png'</span><span class="p">,</span> <span class="n">PNG</span><span class="p">,</span> <span class="p">(</span><span class="n">myViewport</span><span class="p">,))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'saved </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">path_filename</span><span class="o">+</span><span class="s1">'.png'</span><span class="p">)</span>
    
    <span class="n">myViewport</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fitView</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">animationType</span><span class="o">=</span><span class="n">TIME_HISTORY</span><span class="p">,</span> <span class="n">viewports</span><span class="o">=</span><span class="p">(</span><span class="n">myViewport</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="p">))</span>    <span class="c1"># SCALE_FACTOR   TIME_HISTORY                              </span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">UNLIMITED</span><span class="p">)</span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">animationOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">frameRate</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>       
    <span class="n">session</span><span class="o">.</span><span class="n">writeImageAnimation</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="n">path_filename</span><span class="o">+</span><span class="s1">'.avi'</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">AVI</span><span class="p">,</span> <span class="n">canvasObjects</span><span class="o">=</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">viewports</span><span class="p">[</span><span class="n">myViewport</span><span class="o">.</span><span class="n">name</span><span class="p">],</span> <span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'saved </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">path_filename</span><span class="o">+</span><span class="s1">'.avi'</span><span class="p">)</span>    
<span class="k">except</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="c1"># PLotting </span>
<span class="n">xyp</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">XYPlot</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'XYPlot-1'</span><span class="p">)</span>
<span class="c1">## can be run multiple times but the line >>>session.xyPlots['XYPlot-1'] , can only be run once >>>ession.XYPlot('XYPlot-1')</span>
<span class="n">chartName</span> <span class="o">=</span> <span class="n">xyp</span><span class="o">.</span><span class="n">charts</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">xyp</span><span class="o">.</span><span class="n">charts</span><span class="p">[</span><span class="n">chartName</span><span class="p">]</span>
<span class="n">chart</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">chart</span><span class="o">.</span><span class="n">legend</span><span class="o">.</span><span class="n">titleStyle</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="s1">'-*-verdana-medium-r-normal-*-*-240-*-*-p-*-*-*'</span><span class="p">)</span>
<span class="n">chart</span><span class="o">.</span><span class="n">gridArea</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">xyp</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="s1">'-*-arial-medium-r-normal-*-*-240-*-*-p-*-*-*'</span><span class="p">)</span>
        
<span class="n">x</span> <span class="o">=</span> <span class="s1">'Strain energy: ALLSE for Whole Model'</span>
<span class="n">sName</span> <span class="o">=</span> <span class="n">myOdb</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="n">s</span><span class="p">]</span>
<span class="n">xy1</span> <span class="o">=</span> <span class="n">xyPlot</span><span class="o">.</span><span class="n">XYDataFromHistory</span><span class="p">(</span><span class="n">odb</span><span class="o">=</span><span class="n">myOdb</span><span class="p">,</span> <span class="n">outputVariableName</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">steps</span><span class="o">=</span><span class="p">(</span><span class="n">sName</span><span class="p">,</span> <span class="p">),</span> <span class="p">)</span>
<span class="n">c1</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">Curve</span><span class="p">(</span><span class="n">xyData</span><span class="o">=</span><span class="n">xy1</span><span class="p">)</span>
<span class="n">chart</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">curvesToPlot</span><span class="o">=</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="p">),</span> <span class="p">)</span>
<span class="n">myViewport</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">displayedObject</span><span class="o">=</span><span class="n">xyp</span><span class="p">)</span>
<span class="n">chartName</span> <span class="o">=</span> <span class="n">xyp</span><span class="o">.</span><span class="n">charts</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">xyp</span><span class="o">.</span><span class="n">charts</span><span class="p">[</span><span class="n">chartName</span><span class="p">]</span>
<span class="n">path_filename</span> <span class="o">=</span> <span class="s1">'</span><span class="si">%s</span><span class="s1">_Xplot_step-</span><span class="si">%s</span><span class="s1">_x-</span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> \
    <span class="p">(</span><span class="n">myOdb</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'.odb'</span><span class="p">,</span><span class="s1">''</span><span class="p">),</span> <span class="n">sName</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">':'</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">myViewport</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fitView</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">printToFile</span><span class="p">(</span><span class="n">path_filename</span><span class="o">+</span><span class="s1">'.png'</span><span class="p">,</span> <span class="n">PNG</span><span class="p">,</span> <span class="p">(</span><span class="n">myViewport</span><span class="p">,))</span>

    <span class="n">myViewport</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fitView</span><span class="p">()</span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">animationType</span><span class="o">=</span><span class="n">TIME_HISTORY</span><span class="p">,</span> <span class="n">viewports</span><span class="o">=</span><span class="p">(</span><span class="n">myViewport</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="p">))</span>    <span class="c1"># SCALE_FACTOR   TIME_HISTORY                              </span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">UNLIMITED</span><span class="p">)</span>
    <span class="n">session</span><span class="o">.</span><span class="n">animationController</span><span class="o">.</span><span class="n">animationOptions</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">xyShowSymbol</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">xySymbolSize</span><span class="o">=</span><span class="n">LARGE</span><span class="p">)</span>
    <span class="n">session</span><span class="o">.</span><span class="n">writeImageAnimation</span><span class="p">(</span><span class="n">fileName</span><span class="o">=</span><span class="n">path_filename</span><span class="o">+</span><span class="s1">'.avi'</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="n">AVI</span><span class="p">,</span> <span class="n">canvasObjects</span><span class="o">=</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">viewports</span><span class="p">[</span><span class="n">myViewport</span><span class="o">.</span><span class="n">name</span><span class="p">],</span> <span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'saved </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">path_filename</span><span class="o">+</span><span class="s1">'.avi'</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="#Abaqus_FEA_Scripting">top</a></p>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'nagordon-github'; // required: replace example with your forum shortname

                    var disqus_identifier = 'Abaqus-FEA-Scripting-with-python';
                var disqus_url = 'http://ifcuriousthenlearn.com/blog/2015/04/02/Abaqus-FEA-Scripting-with-python/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://www.linkedin.com/profile/public-profile-settings?trk=prof-edit-edit-public_profile"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
    <li class="list-group-item"><a href="https://github.com/nagordon"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
    <li class="list-group-item"><a href="http://stackoverflow.com/users/2438993/nagordon"><i class="fa fa-stackoverflow-square fa-lg"></i> StackOverflow</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="http://ifcuriousthenlearn.com/blog/2016/08/20/pythoncode-vs-excel/">Calculations with Python Code or Excel Spreadsheets</a></li>
    <li class="list-group-item"><a href="http://ifcuriousthenlearn.com/blog/2016/08/14/logical-indexing-with-python-excel/">Logical Indexing with Python and Excel</a></li>
    <li class="list-group-item"><a href="http://ifcuriousthenlearn.com/blog/2016/06/05/sage-embed/">Sage Math Tool</a></li>
    <li class="list-group-item"><a href="http://ifcuriousthenlearn.com/blog/2016/05/07/what-open-source-means/">Understanding and using technology</a></li>
    <li class="list-group-item"><a href="http://ifcuriousthenlearn.com/blog/2016/05/06/interactive-integral-deritive/">Derivative and Integral Interactive Tool</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Categories -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4>
  <ul class="list-group" id="categories">
    <li class="list-group-item">
      <a href="http://ifcuriousthenlearn.com/category/aviation.html"><i class="fa fa-folder-open fa-lg"></i>Aviation</a>
    </li>
    <li class="list-group-item">
      <a href="http://ifcuriousthenlearn.com/category/computing.html"><i class="fa fa-folder-open fa-lg"></i>computing</a>
    </li>
    <li class="list-group-item">
      <a href="http://ifcuriousthenlearn.com/category/engineering.html"><i class="fa fa-folder-open fa-lg"></i>Engineering</a>
    </li>
    <li class="list-group-item">
      <a href="http://ifcuriousthenlearn.com/category/tools.html"><i class="fa fa-folder-open fa-lg"></i>Tools</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Categories -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://getpelican.com/" target="_blank">Pelican</a>
    </li>
    <li class="list-group-item">
      <a href="http://python.org/" target="_blank">Python.org</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.scipy.org/" target="_blank">Scipy.org</a>
    </li>
    <li class="list-group-item">
      <a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Neal Gordon
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://ifcuriousthenlearn.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://ifcuriousthenlearn.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://ifcuriousthenlearn.com/theme/js/respond.min.js"></script>

    <script src="http://ifcuriousthenlearn.com/theme/js/bodypadding.js"></script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'http://ifcuriousthenlearn.com/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  github.showRepos({
    user: 'nagordon',
    count: 5,
    skip_forks: false,
    target: '#gh_repos'
  });
});
</script>
<script src="http://ifcuriousthenlearn.com/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'nagordon-github'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-65272251-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->


</body>
</html>